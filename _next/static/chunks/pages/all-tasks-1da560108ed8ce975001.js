(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[812],{7326:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return w}});var s=t(5893),i=t(7294),a=t(9008),l=t(9226),c=t(1577),r=t(3306),d=t(4277),o=t(381),u=t.n(o),f=t(0),h=t(9193),m=t(1163),x=t(9713),j=t(4168);function v(e){var n=e.id,t=e.edit,a=e.remove,c=e.deadline,r=e.setIsChange,d=(0,i.useState)(!1),o=d[0],f=d[1],v=(0,l.I0)(),N=(0,m.useRouter)();return(0,s.jsxs)("div",{className:"task-item__header",children:[(0,s.jsxs)("div",{className:"row justify-content-between align-items-center",children:[(0,s.jsxs)("div",{className:"col-auto",children:[(0,s.jsx)(x.Z,{placement:"top",color:"orange",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",children:(0,s.jsx)("i",{className:"bi bi-pencil-square",onClick:t})}),(0,s.jsx)(x.Z,{placement:"top",color:"lime",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c deadline",children:(0,s.jsx)("i",{className:"bi bi-calendar3 ms-3",onClick:function(){return f(!o)}})})]}),(0,s.jsx)("div",{className:"col",children:(0,s.jsx)("p",{className:"task-item__link",onClick:function(){return N.push("task/"+n)},children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e"})}),(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsx)(x.Z,{placement:"top",color:"red",title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443",children:(0,s.jsx)("i",{className:"bi bi-trash2",onClick:a})})})]}),(0,s.jsx)(j.Z,{open:o,className:"task-item__date-picker-short",onChange:function(e){return function(e){v((0,h.b$)(n,e)),f(!1),r(!1)}(e)},disabledDate:function(e){return e&&e<u()().startOf("day")},defaultValue:c})]})}var N=t(2566),p=t(1705);function k(e){var n=e.id,t=e.title,a=e.isCompleted,c=e.created,r=e.finished,d=e.deadline,o=(0,l.I0)(),m=(0,i.useState)(!1),x=m[0],j=m[1];return(0,s.jsx)("section",{className:"col",children:(0,s.jsxs)("div",{className:"task-item",children:[(0,s.jsx)(v,{id:n,edit:function(){return j(!x)},remove:function(){o((0,h.F6)(n)),f.ZP.warning("\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430")},setIsChange:j,deadline:null===d?u()():u()(d)}),(0,s.jsx)("div",{className:"task-item__body",children:(0,s.jsx)(p.Z,{id:n,change:x,setChange:j,title:t,isCompleted:a,deadline:d})}),(0,s.jsx)(N.Z,{className:"task-item__footer",start:u()(new Date(c)).fromNow(),deadline:d?u()(new Date(d)).endOf("day").fromNow():"\u0431\u0435\u0441\u0441\u0440\u043e\u0447\u043d\u043e",end:r?u()(new Date(r)).fromNow():"\u0432 \u0440\u0430\u0431\u043e\u0442\u0435"})]})})}function C(e){var n=e.tasks;return(0,s.jsx)("article",{className:"row row-cols-1 row-cols-sm-2 row-cols-lg-3 row-cols-xl-4 gy-3",children:n.length?n.map((function(e){return(0,s.jsx)(k,{id:e.id,title:e.title,isCompleted:e.isCompleted,created:e.created,finished:e.finished,deadline:e.deadline},e.id)})):(0,s.jsx)("div",{className:"col-auto mx-auto",children:(0,s.jsx)(d.Z,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:160},description:(0,s.jsx)("span",{className:"mt-4",children:"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447"})})})})}var b=t(9141),g=t(1634),Z=t(1096);function _(e){var n=e.setFilters,t=(0,s.jsxs)(g.Z,{children:[(0,s.jsx)(g.Z.Item,{onClick:function(){return n(null)},children:(0,s.jsx)("span",{children:"\u0412\u0441\u0435"})},"1"),(0,s.jsx)(g.Z.Item,{onClick:function(){return n("finished")},children:(0,s.jsx)("span",{children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b\u0435"})},"2"),(0,s.jsx)(g.Z.Item,{onClick:function(){return n("active")},children:(0,s.jsx)("span",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435"})},"3"),(0,s.jsx)(g.Z.Item,{onClick:function(){return n("deadline")},children:(0,s.jsx)("span",{children:"\u041f\u0440\u043e\u0441\u0440\u043e\u0447\u0435\u043d\u044b"})},"4")]});return(0,s.jsx)(Z.Z,{overlay:t,children:(0,s.jsxs)("div",{className:"filter-item",children:[(0,s.jsx)("i",{className:"bi bi-funnel-fill"}),(0,s.jsx)("span",{children:"\u0424\u0438\u043b\u044c\u0442\u0440"})]})})}function w(){var e=(0,i.useState)(!1),n=e[0],t=e[1],d=(0,i.useState)(null),o=d[0],f=d[1],h=(0,l.v9)((function(e){return e.tasks.tasks})),m=function(){var e=function(e){return null!==e.finished},n=function(e){return!e.isCompleted},t=function(e){return null!==e.deadline&&!e.isCompleted&&u()()>u()(e.deadline)};return{filteredList:function(s,i){return"finished"===i?s.filter(e):"active"===i?s.filter(n):"deadline"===i?s.filter(t):s}}}().filteredList;return(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)(a.default,{children:(0,s.jsx)("title",{children:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"})}),(0,s.jsx)("h1",{className:"title-page mb-4",children:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"}),(0,s.jsx)("div",{className:"row justify-content-end mb-4",children:(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsx)(_,{setFilters:f})})}),(0,s.jsx)(C,{tasks:m(h,o)}),(0,s.jsx)(c.Z,{className:"btn-success mt-4",onClick:function(){return t(!0)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),(0,s.jsx)(r.Z,{title:"\u0411\u044b\u0441\u0442\u0440\u043e\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435",visible:n,onCancel:function(){return t(!1)},footer:null,children:(0,s.jsx)(b.Z,{})})]})}},9141:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var s=t(5893),i=t(7294),a=t(9226),l=t(0),c=t(8365),r=t(4168),d=t(1577),o=t(8917),u=t(381),f=t.n(u),h=t(9193);function m(){var e=(0,a.I0)(),n=(0,i.useState)(""),t=n[0],u=n[1],m=(0,i.useState)(null),x=m[0],j=m[1];return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"row gy-3",children:[(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(c.Z,{placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",value:t,onChange:function(e){return u(e.target.value)}})}),(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(r.Z,{value:x,onChange:function(e){j(e)},disabledDate:function(e){return e&&e<f()().startOf("day")},format:"DD.MM.YYYY"})})]}),(0,s.jsxs)("div",{className:"row mt-4",children:[(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsx)(d.Z,{className:"btn-success",onClick:function(){t.length?(e((0,h.gI)({id:(0,o.x0)(),title:t,isCompleted:!1,created:f()(),deadline:x,finished:null})),u(""),j(null),l.ZP.success("\u0417\u0430\u0434\u0430\u0447\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u0430!")):l.ZP.error("\u0412\u044b \u043d\u0435 \u0432\u0432\u0435\u043b\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438")},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})}),(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsx)(d.Z,{className:"btn-cencel",onClick:function(){return u("")},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"})})]})]})}},1705:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var s=t(5893),i=t(7294),a=t(381),l=t.n(a),c=t(9226),r=t(0),d=t(5627),o=t(9193),u=t(8365),f=t(4168);function h(e){var n=e.id,t=e.title,a=e.setIsChange,r=e.deadline,d=(0,i.useState)(t),h=d[0],m=d[1],x=(0,i.useState)(r),j=x[0],v=x[1],N=(0,c.I0)();return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-12 mb-2",children:(0,s.jsx)(u.Z,{className:"task-title__input",value:h,onChange:function(e){return m(e.target.value)}})}),(0,s.jsx)("div",{className:"col-12",children:(0,s.jsx)(f.Z,{className:"task-title__date-picker",onChange:function(e){v(e)},disabledDate:function(e){return e&&e<l()().startOf("day")},format:"DD.MM.YYYY",defaultValue:j})})]}),(0,s.jsxs)("div",{className:"row mt-1 gx-2",children:[(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsx)("button",{className:"task-item__btn done",onClick:function(){N((0,o.Lz)(n,h)),N((0,o.b$)(n,j)),a(!1)},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),(0,s.jsx)("div",{className:"col-auto",children:(0,s.jsx)("button",{className:"task-item__btn cancel",onClick:function(){return a(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})}function m(e){var n=e.id,t=e.title,a=e.isCompleted,u=e.deadline,f=e.change,m=e.setChange,x=(0,c.I0)(),j=(0,i.useState)(a),v=j[0],N=j[1];return(0,s.jsx)("div",{className:"task-title ".concat(v?"is-checked":""),children:f?(0,s.jsx)(h,{id:n,title:t,setIsChange:m,deadline:null===u?l()():l()(u)}):(0,s.jsx)(d.ZP,{checked:v,value:v,onClick:function(){return(e=!v)?r.ZP.success("\u0417\u0430\u0434\u0430\u0447\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0430"):r.ZP.warning("\u0417\u0430\u0434\u0430\u0447\u0430 \u0432\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430"),N(e),x((0,o._T)(n,e)),void x((0,o.zU)(n,e?l()():null));var e},children:t})})}},2566:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var s=t(5893);t(7294);function i(e){var n=e.start,t=e.deadline,i=e.end,a=e.className;return(0,s.jsx)("div",{className:"date-info ".concat(a),children:(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{className:"start",children:[(0,s.jsx)("i",{className:"bi bi-check"}),(0,s.jsx)("span",{children:n})]}),(0,s.jsxs)("li",{className:"deadline",children:[(0,s.jsx)("i",{className:"bi bi-alarm"}),(0,s.jsx)("span",{children:t})]}),(0,s.jsxs)("li",{className:"end",children:[(0,s.jsx)("i",{className:"bi bi-check-all"}),(0,s.jsx)("span",{children:i})]})]})})}i.defaultProps={className:""}},9193:function(e,n,t){"use strict";t.d(n,{gI:function(){return i},F6:function(){return a},Lz:function(){return l},_T:function(){return c},zU:function(){return r},b$:function(){return d}});var s=t(2240),i=function(e){return{type:s.tP,payload:e}},a=function(e){return{type:s.hI,payload:e}},l=function(e,n){return{type:s.Rf,payload:{id:e,title:n}}},c=function(e,n){return{type:s.H5,payload:{id:e,isCompleted:n}}},r=function(e,n){return{type:s.ip,payload:{id:e,date:n}}},d=function(e,n){return{type:s.vm,payload:{id:e,date:n}}}},48:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/all-tasks",function(){return t(7326)}])}},function(e){e.O(0,[178,127,774,888,179],(function(){return n=48,e(e.s=n);var n}));var n=e.O();_N_E=n}]);